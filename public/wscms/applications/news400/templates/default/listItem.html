<!-- wscms/news/listItem.tpl.php v.3.5.4. 03/04/2019 -->
<div class="row">
	<div class="col-md-3 new">
 		<a href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/newItem" title="{{ Lang['inserisci una nuova %ITEM%']|replace({'%ITEM%': Lang['voce']})|capitalize }}" class="btn btn-primary">{{ Lang['nuova %ITEM%']|replace({'%ITEM%': Lang['voce']})|capitalize }}</a>
	</div>
	<div class="col-md-7 help-small-list">
		{% if App.params.help_small is defined and App.params.help_small != '' %}{{ App.params.help_small }}{% endif %}
	</div>
	<div class="col-md-2 help text-right">
		{% if (App.params.help is defined) and (App.params.help != '') %}
			<button class="btn btn-warning btn-sm" type="button" data-target="#helpModal" data-toggle="modal">Come funziona?</button>
		{% endif %}
	</div>
</div>
<hr class="divider-top-module">
<form role="form" action="{{ URLSITEADMIN }}{{ CoreRequest.action }}" method="post" enctype="multipart/form-data">
	<div class="row">
		<div class="col-md-12">			
			<div class="form-inline" role="grid">

				<div class="row">
					<div class="col-md-12">							
						<div class="form-group">
							<label>	
								{{ Lang['categoria']|capitalize }}
							</label>										
							<select name="id_cat" class="form-control input-md" onchange="this.form.submit();">
								<option value="0">{{ Lang['tutte']|capitalize }}</option>
								{% if App.categories is iterable and App.categories|length > 0 %}
									{% for key,value in App.categories %}		
										<option value="{{ value.id }}"{% if App.id_cat == value.id %} selected="selected"{% endif %}>{{ value.title|e('html') }}</option>														
									{% endfor %}
								{% endif %}	
							</select>										
						</div>							
					</div>
				</div>
				<hr>

				<div class="row">
					<div class="col-md-6">
						<div class="form-group">
							<label>
								<select class="form-control input-sm" name="itemsforpage" onchange="this.form.submit();" >
									<option value="5"{% if App.itemsForPage == 5 %} selected="selected"{% endif %}>5</option>
									<option value="10"{% if App.itemsForPage == 10 %} selected="selected"{% endif %}>10</option>
									<option value="25"{% if App.itemsForPage == 25 %} selected="selected"{% endif %}>25</option>
									<option value="50"{% if App.itemsForPage == 50 %} selected="selected"{% endif %}>50</option>
									<option value="100"{% if App.itemsForPage == 100 %} selected="selected"{% endif %}>100</option>
								</select>
								{{ Lang['voci per pagina']|capitalize }}
							</label>
						</div>
					</div>
					<div class="col-md-6">
						<div class="form-group pull-right">
							<label>
								{{ Lang['cerca']|capitalize }}:
							<input name="searchFromTable" value="{% if MySessionVars[App.sessionName]['srcTab'] is defined and  MySessionVars[App.sessionName]['srcTab'] != '' %}{{ MySessionVars[App.sessionName]['srcTab']|e('html') }}{% endif %}" class="form-control input-sm" type="search" onchange="this.form.submit();">
							</label>
						</div>
					</div>
				</div>
				<div class="table-responsive">				
					<table class="table table-striped table-bordered table-hover listData">
						<thead>
							<tr>
								{% if App.userLoggedData.is_root == 1 %}
									<th class="id">ID</th>							
								{% endif %}
								<th><small>{{ Lang['data']|capitalize }}</small></th>
								<th><small>{{ Lang['scadenza']|capitalize }}</small></th>
								<th>{{ Lang['titolo']|capitalize }}</th>
								<th>{{ Lang['immagine']|capitalize }}</th>
								
								<!-- <th>{{ Lang['embedded']|capitalize }}</th> -->
								<th>{{ Lang['associati']|capitalize }}</th>
								<th></th>
							</tr>
						</thead>
						<tbody>				
							{% if App.items is iterable and App.items|length > 0 %}
								{% for key,value in App.items %}					
									<tr>
										{% if App.userLoggedData.is_root == 1 %}
											<td class="id">{{ value.id }}</td>
										{% endif %}
										<td><small>{{ value.datatimeinsOutput }}</small></td>
										<td>
											<small>
											{% if value.scadenza > 0 %}
												{{ value.datatimescainiOutput }}<br>{{ value.datatimescaendOutput }}
											{% endif %}	
											</small>								
										</td>
										<td>{{ value.title }}</td>										
										<td>	
											{% if value.filename != '' %}
											<a class="" href="{{ App.params.uploadDirs['item'] }}{{ value.filename }}" data-lightbox="image-1" data-title="{{ value.org_filename }}" title="{{ value.org_filename }}">
												<img  class="img-thumbnail"  src="{{ App.params.uploadDirs['item'] }}{{ value.filename }}" alt="{{ value.org_filename }}">
											</a>
											{% else %}
											<img  class="img-thumbnail"  src="{{ App.params.uploadDirs['item'] }}default/image.png" alt="{{ Lang['immagine di default']|capitalize }}">										
											{% endif %}										
										</td>
												
										<!-- <td>
											&nbsp;
											{% if value.embedded != '' %}
												<i class="fa fa-youtube fa-fw"></i>
											{% endif %}									
										</td>		 -->		
										<td>	
<a class="btn btn-default btn-circle" href="{{ URLSITEADMIN }}moduleassociated/from/{{ CoreRequest.action }}/listItem/{{ value.id }}/1" title="{{ Lang['immagini associate']|capitalize }} ({{ value.images }})"><i class="fa fa-picture-o"> </i></a><small>({{ value.images }})</small>																
								
<!--
<a class="btn btn-default btn-circle" href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/listIimg/{{ value.id }}" title="{{ Lang['immagini associate']|capitalize }} ({{ value.images }})"><i class="fa fa-picture-o"> </i></a><small>({{ value.images }})</small>																
<a class="btn btn-default btn-circle" href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/listIfil/{{ value.id }}" title="{{ Lang['files associati']|capitalize }} ({{ value.files }})"><i class="fa fa-file-o"> </i></a><small>({{ value.files }})</small>																
<a class="btn btn-default btn-circle" href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/listIgal/{{ value.id }}" title="{{ Lang['galleria associata']|capitalize }} ({{ value.gallery }}  {{ Lang['immagini'] }})"><i class="fa fa-film"> </i></a><small>({{ value.gallery }})</small>											
<a class="btn btn-default btn-circle" href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/listIvid/{{ value.id }}" title="{{ Lang['video associati']|capitalize }} ({{ value.videos }})"><i class="fa fa-youtube-play"> </i></a><small>({{ value.videos }})</small>																																														
 -->										</td>											
										<td class="actions">
											<a class="btn btn-default btn-circle" href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/{{ value.active == 1 ? 'disactive' : 'active' }}Item/{{ value.id }}" title="{{ value.active == 1 ? Lang['disattiva']|capitalize : Lang['attiva']|capitalize }} {{ Lang['voce'] }}"><i class="fa fa-{{ value.active == 1 ? 'unlock' : 'lock' }}"> </i></a>			 
											<a class="btn btn-default btn-circle" href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/modifyItem/{{ value.id }}" title="{{ Lang['modifica']|capitalize }} {{ Lang['voce'] }}"><i class="fa fa-edit"> </i></a>
											<a class="btn btn-default btn-circle confirm" href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/deleteItem/{{ value.id }}" title="{{ Lang['cancella']|capitalize }} {{ Lang['voce'] }}"><i class="fa fa-cut"> </i></a>										
										</td>							
									</tr>	
								{% endfor %}
							{% else %}
								<tr>
									{% if App.userLoggedData.is_root == 1 %}<td></td>{% endif %}
									<td colspan="7">{{ Lang['Nessuna voce trovata!']|capitalize }}</td>
								</tr>
							{% endif %}
						</tbody>
					</table>
				</div>
				<!-- /.table-responsive -->
									
				{% if App.pagination.itemsTotal > 0 %}
				<div class="row">
					<div class="col-md-6">
						<div class="dataTables_info" id="dataTables_info" role="alert" aria-live="polite" aria-relevant="all">
							{{ App.paginationTitle }}						
						</div>	
					</div>
					<div class="col-md-6">
						<div class="dataTables_paginate paging_simple_numbers" id="dataTables_paginate">
						<ul class="pagination">
							<li class="paginate_button previous{% if App.pagination.page == 1 %} disabled{% endif %}">
								<a href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/pageItem/{{ App.pagination.itemPrevious }}">{{ Lang['precedente']|capitalize }}</a>
							</li>							
							{% if App.pagination.pagePrevious is iterable %}
								{% for key,value in App.pagination.pagePrevious %}
									<li><a href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/pageItem/{{ value }}">{{ value }}</a></li>
								{% endfor %}
							{% endif %}									
							<li class="active"><a href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/pageItem/{{ App.pagination.page }}">{{ App.pagination.page }}</a></li>
							{% if App.pagination.pageNext is iterable %}
								{% for key,value in App.pagination.pageNext %}
									<li><a href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/pageItem/{{ value }}">{{ value }}</a></li>
								{% endfor %}
							{% endif %}							
							<li class="paginate_button next{% if App.pagination.page >= App.pagination.totalpage %} disabled{% endif %}">
								<a href="{{ URLSITEADMIN }}{{ CoreRequest.action }}/pageItem/{{ App.pagination.itemNext }}">{{ Lang['prossima']|capitalize }}</a>
							</li>
						</ul>
						</div>
					</div>
				</div>
				{% endif %}

			</div>	
			<!-- /.form-inline wrapper -->
		</div>
		<!-- /.col-md-12 -->
	</div>
</form>